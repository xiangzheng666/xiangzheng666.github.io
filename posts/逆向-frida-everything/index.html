<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="zh-CN" >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="逆向 Frida everything" />
<meta property="og:locale" content="zh_CN" />
<meta name="description" content="使用 1.上传指定frida server" />
<meta property="og:description" content="使用 1.上传指定frida server" />
<link rel="canonical" href="https://xiangzheng666.github.io/posts/%E9%80%86%E5%90%91-frida-everything/" />
<meta property="og:url" content="https://xiangzheng666.github.io/posts/%E9%80%86%E5%90%91-frida-everything/" />
<meta property="og:site_name" content="XiangZheng" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-04-18T00:00:00+08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="逆向 Frida everything" />
<meta name="twitter:site" content="@xiangzheng666" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-04-18T00:00:00+08:00","datePublished":"2024-04-18T00:00:00+08:00","description":"使用 1.上传指定frida server","headline":"逆向 Frida everything","mainEntityOfPage":{"@type":"WebPage","@id":"https://xiangzheng666.github.io/posts/%E9%80%86%E5%90%91-frida-everything/"},"url":"https://xiangzheng666.github.io/posts/%E9%80%86%E5%90%91-frida-everything/"}</script>
<!-- End Jekyll SEO tag -->


  <title>逆向 Frida everything | XiangZheng
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="XiangZheng">
<meta name="application-name" content="XiangZheng">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- Scripts -->

  <script src="/assets/js/dist/theme.min.js"></script>

  <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/zh.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js,npm/tocbot@4.32.2/dist/tocbot.min.js"></script>







<script defer src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  



  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="https://github.com/xiangzheng666/picx-images-hosting/raw/master/android-chrome-512x512.1sf9u185q3.webp" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <a class="site-title d-block" href="/">XiangZheng</a>
    <p class="site-subtitle fst-italic mb-0">Try to Everything</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>首页</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>分类</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>标签</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>归档</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>关于</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/xiangzheng666"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/xiangzheng666"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['1297289148','qq.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">首页</a>
            </span>

          
        
          
        
          
            
              <span>逆向 Frida everything</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      文章
    </div>

    <button type="button" id="search-trigger" class="btn btn-link" aria-label="Search">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="搜索..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">取消</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  

  
  

  




<!-- return -->










<article class="px-1" data-toc="true">
  <header>
    <h1 data-toc-skip>逆向 Frida everything</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        发表于
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713369600"
  data-df="YYYY/MM/DD"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  2024/04/18
</time>

      </span>

      <!-- lastmod date -->
      

      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          作者

          <em>
            
              <a href="https://twitter.com/xiangzheng666">xiangzheng666</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="5300 字"
>
  <em>29 分钟</em>阅读</span>

        </div>
      </div>
    </div>
  </header>

  
    <div id="toc-bar" class="d-flex align-items-center justify-content-between invisible">
      <span class="label text-truncate">逆向 Frida everything</span>
      <button type="button" class="toc-trigger btn me-1">
        <i class="fa-solid fa-list-ul fa-fw"></i>
      </button>
    </div>

    <button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm">
      <span class="label ps-2 pe-1">文章内容</span>
      <i class="fa-solid fa-angle-right fa-fw"></i>
    </button>

    <dialog id="toc-popup" class="p-0">
      <div class="header d-flex flex-row align-items-center justify-content-between">
        <div class="label text-truncate py-2 ms-4">逆向 Frida everything</div>
        <button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75">
          <i class="fas fa-close"></i>
        </button>
      </div>
      <div id="toc-popup-content" class="px-4 py-3 pb-4"></div>
    </dialog>
  

  <div class="content">
    <h1 id="使用">使用</h1>
<p>1.上传指定frida server</p>

<p>2.运行frida命令hook</p>

<h2 id="1基础指令"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.基础指令</font></span><a href="#1基础指令" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<font style="color:rgb(68, 68, 68);">1.frida-ps -U  查看当前手机运行的进程  
</font>
<font style="color:rgb(68, 68, 68);">2.frida-ps --help 查看help指令</font>

<font style="color:rgb(68, 68, 68);">Spawn模式</font>

<pre><code class="language-plain">复制代码 隐藏代码
frida -U -f 进程名 -l hook.js
</code></pre>

<font style="color:rgb(68, 68, 68);">attach模式 ：</font>

<pre><code class="language-plain">复制代码 隐藏代码
frida -U 进程名 -l hook.js
</code></pre>

<p>hook.js:</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="已复制！"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre><span class="kd">function</span> <span class="nf">main</span><span class="p">(){</span>
    <span class="nx">Java</span><span class="p">.</span><span class="nf">perform</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
        <span class="nf">hookTest1</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">}</span>
<span class="nf">setImmediate</span><span class="p">(</span><span class="nx">main</span><span class="p">);</span>

<span class="kd">function</span> <span class="nf">hookTest1</span><span class="p">(){</span>
    <span class="kd">let</span> <span class="nx">Demo</span> <span class="o">=</span> <span class="nx">Java</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="dl">"</span><span class="s2">com.zj.wuaipojie.Demo</span><span class="dl">"</span><span class="p">);</span>
    <span class="nx">Demo</span><span class="p">[</span><span class="dl">"</span><span class="s2">a</span><span class="dl">"</span><span class="p">].</span><span class="nx">implementation</span> <span class="o">=</span> <span class="nf">function </span><span class="p">(</span><span class="nx">str</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a is called</span><span class="dl">'</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">, </span><span class="dl">'</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">str: </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">str</span><span class="p">);</span>
        <span class="kd">let</span> <span class="nx">ret</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nf">a</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">a ret value is </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">ret</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">ret</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h1 id="常用api">常用API</h1>
<h2 id="1hook普通方法打印参数和修改返回值"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.Hook普通方法、打印参数和修改返回值</font></span><a href="#1hook普通方法打印参数和修改返回值" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
//定义一个名为hookTest1的函数
function hookTest1(){
        //获取一个名为"类名"的Java类，并将其实例赋值给JavaScript变量utils
    var utils = Java.use("类名");
    //修改"类名"的"method"方法的实现。这个新的实现会接收两个参数（a和b）
    utils.method.implementation = function(a, b){
            //将参数a和b的值改为123和456。
        a = 123;
        b = 456;
        //调用修改过的"method"方法，并将返回值存储在`retval`变量中
        var retval = this.method(a, b);
        //在控制台上打印参数a，b的值以及"method"方法的返回值
        console.log(a, b, retval);
        //返回"method"方法的返回值
        return retval;
    }
}
</code></pre>

<h2 id="2hook重载参数"><span class="me-2"><font style="color:rgb(68, 68, 68);">2.Hook重载参数</font></span><a href="#2hook重载参数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
// .overload()
// .overload('自定义参数')
// .overload('int')
function hookTest2(){
    var utils = Java.use("com.zj.wuaipojie.Demo");
    //overload定义重载函数，根据函数的参数类型填
    utils.Inner.overload('com.zj.wuaipojie.Demo$Animal','java.lang.String').implementation = function(a，b){
        b = "aaaaaaaaaa";
        this.Inner(a,b);
        console.log(b);
    }
}
</code></pre>

<h2 id="3hook构造函数"><span class="me-2"><font style="color:rgb(68, 68, 68);">3.Hook构造函数</font></span><a href="#3hook构造函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest3(){
    var utils = Java.use("com.zj.wuaipojie.Demo");
    //修改类的构造函数的实现，$init表示构造函数
    utils.$init.overload('java.lang.String').implementation = function(str){
        console.log(str);
        str = "52";
        this.$init(str);
    }
}
</code></pre>

<h2 id="4hook字段"><span class="me-2"><font style="color:rgb(68, 68, 68);">4.Hook字段</font></span><a href="#4hook字段" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest5(){
    Java.perform(function(){
        //静态字段的修改
        var utils = Java.use("com.zj.wuaipojie.Demo");
        //修改类的静态字段"flag"的值
        utils.staticField.value = "我是被修改的静态变量";
        console.log(utils.staticField.value);
        //非静态字段的修改
        //使用`Java.choose()`枚举类的所有实例
        Java.choose("com.zj.wuaipojie.Demo", {
            onMatch: function(obj){
                    //修改实例的非静态字段"_privateInt"的值为"123456"，并修改非静态字段"privateInt"的值为9999。
                obj._privateInt.value = "123456"; //字段名与函数名相同 前面加个下划线
                obj.privateInt.value = 9999;
            },
            onComplete: function(){

            }
        });
    });

}
</code></pre>

<h2 id="5hook内部类"><span class="me-2"><font style="color:rgb(68, 68, 68);">5.Hook内部类</font></span><a href="#5hook内部类" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest6(){
    Java.perform(function(){
        //内部类
        var innerClass = Java.use("com.zj.wuaipojie.Demo$innerClass");
        console.log(innerClass);
        innerClass.$init.implementation = function(){
            console.log("eeeeeeee");
        }

    });
}
</code></pre>

<h2 id="6枚举所有的类与类的所有方法"><span class="me-2"><font style="color:rgb(68, 68, 68);">6.枚举所有的类与类的所有方法</font></span><a href="#6枚举所有的类与类的所有方法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest7(){
    Java.perform(function(){
        //枚举所有的类与类的所有方法,异步枚举
        Java.enumerateLoadedClasses({
            onMatch: function(name,handle){
                    //过滤类名
                if(name.indexOf("com.zj.wuaipojie.Demo") !=-1){
                    console.log(name);
                    var clazz =Java.use(name);
                    console.log(clazz);
                    var methods = clazz.class.getDeclaredMethods();
                    console.log(methods);
                }
            },
            onComplete: function(){}
        })
    })
}
</code></pre>

<h2 id="7枚举所有方法"><span class="me-2"><font style="color:rgb(68, 68, 68);">7.枚举所有方法</font></span><a href="#7枚举所有方法" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest8(){
    Java.perform(function(){
        var Demo = Java.use("com.zj.wuaipojie.Demo");
        //getDeclaredMethods枚举所有方法
        var methods =Demo.class.getDeclaredMethods();
        for(var j=0; j &lt; methods.length; j++){
            var methodName = methods[j].getName();
            console.log(methodName);
            for(var k=0; k&lt;Demo[methodName].overloads.length;k++){
                Demo[methodName].overloads[k].implementation = function(){
                    for(var i=0;i&lt;arguments.length;i++){
                        console.log(arguments[i]);
                    }
                    return this[methodName].apply(this,arguments);
                }
            }
        }
    })
}
</code></pre>

<h2 id="8主动调用"><span class="me-2"><font style="color:rgb(68, 68, 68);">8.主动调用</font></span><a href="#8主动调用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<font style="color:rgb(68, 68, 68);">静态方法</font>

<pre><code class="language-plain">复制代码 隐藏代码
var ClassName=Java.use("com.zj.wuaipojie.Demo"); 
ClassName.privateFunc("传参");
</code></pre>

<font style="color:rgb(68, 68, 68);">非静态方法</font>

<pre><code class="language-plain">复制代码 隐藏代码
    var ret = null;
    Java.perform(function () {
        Java.choose("com.zj.wuaipojie.Demo",{    //要hook的类
            onMatch:function(instance){
                ret=instance.privateFunc("aaaaaaa"); //要hook的方法
            },
            onComplete:function(){
                    //console.log("result: " + ret);
            }
        });
    })
    //return ret;
</code></pre>

<h1 id="objection">Objection</h1>
<h2 id="注入命令"><span class="me-2"><font style="color:rgb(68, 68, 68);">注入命令</font></span><a href="#注入命令" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
objection -g 包名 explore

-   help：不知道当前命令的效果是什么，在当前命令前加help比如:help env，回车之后会出现当前命令的解释信息
-   按空格：不知道输入什么就按空格，会有提示出来
-   jobs：可以进行多项hook
-   日志：objection的日志文件生成在 C:\Users\Administrator\.objection
</code></pre>

<font style="color:rgb(68, 68, 68);">启动前就hook</font>

<pre><code class="language-plain">复制代码 隐藏代码
objection -g 进程名 explore --startup-command "android hooking watch class 路径.类名"
</code></pre>

<h2 id="objection基础api"><span class="me-2"><font style="color:rgb(68, 68, 68);">objection基础api</font></span><a href="#objection基础api" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<h3 id="memory-list-modules----查看内存中加载的库"><span class="me-2"><font style="color:rgb(68, 68, 68);">memory list modules   -查看内存中加载的库</font></span><a href="#memory-list-modules----查看内存中加载的库" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<pre><code class="language-plain">复制代码 隐藏代码
memory list modules
Save the output by adding `--json modules.json` to this command
Name                                                              Base          Size                 Path
----------------------------------------------------------------  ------------  -------------------  ------------------------------------------------------------------------------
app_process64                                                     0x57867c9000  40960 (40.0 KiB)     /system/bin/app_process64
linker64                                                          0x72e326a000  229376 (224.0 KiB)   /system/bin/linker64
libandroid_runtime.so                                             0x72e164e000  2113536 (2.0 MiB)    /system/lib64/libandroid_runtime.so
libbase.so                                                        0x72dfa67000  81920 (80.0 KiB)     /system/lib64/libbase.so
libbinder.so                                                      0x72dec1c000  643072 (628.0 KiB)   /system/lib64/libbinder.so
libcutils.so                                                      0x72de269000  86016 (84.0 KiB)     /system/lib64/libcutils.so
libhidlbase.so                                                    0x72df4cc000  692224 (676.0 KiB)   /system/lib64/libhidlbase.so
liblog.so                                                         0x72e0be1000  98304 (96.0 KiB)     /system/lib64/liblog
</code></pre>

<h3 id="memory-list-exports-so名称---查看库的导出函数"><span class="me-2"><font style="color:rgb(68, 68, 68);">memory list exports so名称 - 查看库的导出函数</font></span><a href="#memory-list-exports-so名称---查看库的导出函数" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<pre><code class="language-plain">复制代码 隐藏代码
memory list exports liblog.so
Save the output by adding `--json exports.json` to this command
Type      Name                                  Address
--------  ------------------------------------  ------------
function  android_log_write_int32               0x72e0be77c8
function  android_log_write_list_begin          0x72e0be76f0
function  __android_log_bswrite                 0x72e0be9bd8
function  __android_log_security                0x72e0bf2144
function  __android_log_bwrite                  0x72e0be9a18
function  android_log_reset                     0x72e0be75ec
function  android_log_write_string8             0x72e0be7a38
function  android_logger_list_free              0x72e0be8c04
function  __android_log_print                   0x72e0be9728
function  __android_logger_property_get_bool    0x72e0bf2248
function  android_logger_get_id                 0x72e0be8270
function  android_logger_set_prune_list         0x72e0be8948
</code></pre>

<h3 id="android-hooking-list-activities--查看内存中加载的activity---"><span class="me-2"><font style="color:rgb(68, 68, 68);">android hooking list activities -查看内存中加载的activity   </font></span><a href="#android-hooking-list-activities--查看内存中加载的activity---" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<h3 id="android-hooking-list-services--查看内存中加载的services"><span class="me-2"><font style="color:rgb(68, 68, 68);">android hooking list services -查看内存中加载的services</font></span><a href="#android-hooking-list-services--查看内存中加载的services" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p>&lt;/font&gt;<a href="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732189411186-b5c46b56-92b4-417c-8781-bdd19a325a36.png" class="popup img-link  shimmer"><img src="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732189411186-b5c46b56-92b4-417c-8781-bdd19a325a36.png" alt="" loading="lazy"></a></p>
<h3 id="关闭ssl校验--android-sslpinning-disable"><span class="me-2"><font style="color:rgb(68, 68, 68);">关闭ssl校验  android sslpinning disable</font></span><a href="#关闭ssl校验--android-sslpinning-disable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<h3 id="关闭root检测--android-root-disable"><span class="me-2"><font style="color:rgb(68, 68, 68);">关闭root检测  android root disable</font></span><a href="#关闭root检测--android-root-disable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<h3 id="objection内存漫游"><span class="me-2"><font style="color:rgb(68, 68, 68);">objection内存漫游</font></span><a href="#objection内存漫游" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">内存搜刮类实例</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android heap search instances 类名(命令)
Class instance enumeration complete for com.zj.wuaipojie.Demo  
 Hashcode  Class                  toString()
---------  ---------------------  -----------------------------
215120583  com.zj.wuaipojie.Demo  com.zj.wuaipojie.Demo@cd27ac7
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">调用实例的方法</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android heap execute &lt;handle&gt; getPublicInt(实例的hashcode+方法名)
如果是带参数的方法，则需要进入编辑器环境  
android heap evaluate &lt;handle&gt;  
console.log(clazz.a("吾爱破解"));
按住esc+enter触发
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">android hooking list classes -列出内存中所有的类(结果比静态分析的更准确)</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking list classes 

tw.idv.palatis.xappdebug.MainApplication
tw.idv.palatis.xappdebug.xposed.HookMain
tw.idv.palatis.xappdebug.xposed.HookMain$a
tw.idv.palatis.xappdebug.xposed.HookMain$b
tw.idv.palatis.xappdebug.xposed.HookMain$c
tw.idv.palatis.xappdebug.xposed.HookMain$d
tw.idv.palatis.xappdebug.xposed.HookSelf
u
v
void
w
xposed.dummy.XResourcesSuperClass
xposed.dummy.XTypedArraySuperClass

Found 10798 classes
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">android hooking search classes 关键类名 -在内存中所有已加载的类中搜索包含特定关键词的类</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking search classes wuaipojie
Note that Java classes are only loaded when they are used, so if the expected class has not been found, it might not have been loaded yet.
com.zj.wuaipojie.Demo
com.zj.wuaipojie.Demo$Animal
com.zj.wuaipojie.Demo$Companion
com.zj.wuaipojie.Demo$InnerClass
com.zj.wuaipojie.Demo$test$1
com.zj.wuaipojie.MainApplication
com.zj.wuaipojie.databinding.ActivityMainBinding
... 

Found 38 classes
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">android hooking search methods 关键方法名 -在内存中所有已加载的类的方法中搜索包含特定关键词的方法(一般不建议使用，特别耗时，还可能崩溃)</font>
  </li>
  <li>
    <font style="color:rgb(68, 68, 68);">android hooking list class_methods 类名 -内存漫游类中的所有方法</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking list class_methods com.zj.wuaipojie.ui.ChallengeSixth
private static final void com.zj.wuaipojie.ui.ChallengeSixth.onCreate$lambda-0(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
private static final void com.zj.wuaipojie.ui.ChallengeSixth.onCreate$lambda-1(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
private static final void com.zj.wuaipojie.ui.ChallengeSixth.onCreate$lambda-2(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
private static final void com.zj.wuaipojie.ui.ChallengeSixth.onCreate$lambda-3(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
protected void com.zj.wuaipojie.ui.ChallengeSixth.onCreate(android.os.Bundle)
public final java.lang.String com.zj.wuaipojie.ui.ChallengeSixth.hexToString(java.lang.String)
public final java.lang.String com.zj.wuaipojie.ui.ChallengeSixth.unicodeToString(java.lang.String)
public final void com.zj.wuaipojie.ui.ChallengeSixth.toastPrint(java.lang.String)
public static void com.zj.wuaipojie.ui.ChallengeSixth.$r8$lambda$1lrkrgiCEFWXZDHzLRibYURG1h8(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
public static void com.zj.wuaipojie.ui.ChallengeSixth.$r8$lambda$IUqwMqbTKaOGiTaeOmvy_GjNBso(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
public static void com.zj.wuaipojie.ui.ChallengeSixth.$r8$lambda$Kc_cRYZjjhjsTl6GYNHbgD-i6sE(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)
public static void com.zj.wuaipojie.ui.ChallengeSixth.$r8$lambda$PDKm2AfziZQo6Lv1HEFkJWkUsoE(com.zj.wuaipojie.ui.ChallengeSixth,android.view.View)

Found 12 method(s)
</code></pre>

<h3 id="objectionhook"><span class="me-2"><font style="color:rgb(68, 68, 68);">objectionHook</font></span><a href="#objectionhook" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">hook类的所有方法</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking watch class 类名
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">hook方法的参数、返回值和调用栈</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking watch class_method 类名.方法名 --dump-args --dump-return --dump-backtrace
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">hook 类的构造方法</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking watch class_method 类名.$init
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">hook 方法的所有重载</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
android hooking watch class_method 类名.方法名
</code></pre>

<h1 id="frida-native-hook">frida Native Hook</h1>
<h2 id="1processmodulememory基础"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.Process、Module、Memory基础</font></span><a href="#1processmodulememory基础" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<h3 id="1process"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.Process</font></span><a href="#1process" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Process&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);"> 对象代表当前被Hook的进程，能获取进程的信息，枚举模块，枚举范围等</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">API</font></strong></th>
      <th>## <strong><font style="color:rgb(68, 68, 68);">含义</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>## <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Process.id&lt;/font&gt;</code></td>
      <td>## <font style="color:rgb(68, 68, 68);">返回附加目标进程的</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;PID&lt;/font&gt;</code></td>
    </tr>
    <tr>
      <td>## <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Process.isDebuggerAttached()&lt;/font&gt;</code></td>
      <td>## <font style="color:rgb(68, 68, 68);">检测当前是否对目标程序已经附加</font></td>
    </tr>
    <tr>
      <td>## <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Process.enumerateModules()&lt;/font&gt;</code></td>
      <td>## <font style="color:rgb(68, 68, 68);">枚举当前加载的模块，返回模块对象的数组</font></td>
    </tr>
    <tr>
      <td>## <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Process.enumerateThreads()&lt;/font&gt;</code></td>
      <td>## <font style="color:rgb(68, 68, 68);">枚举当前所有的线程，返回包含</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;id&lt;/font&gt;</code><br />## <font style="color:rgb(68, 68, 68);">,</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;state&lt;/font&gt;</code><br />## <font style="color:rgb(68, 68, 68);">,</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;context&lt;/font&gt;</code><br />## <font style="color:rgb(68, 68, 68);"> </font><font style="color:rgb(68, 68, 68);">等属性的对象数组</font></td>
    </tr>
  </tbody>
</table></div>

<h3 id="2module"><span class="me-2"><font style="color:rgb(68, 68, 68);">2.Module</font></span><a href="#2module" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Module&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);"> 对象代表一个加载到进程的模块(例如，在 Windows 上的 DLL，或在 Linux/Android 上的 .so 文件),能查询模块的信息，如模块的基址、名称、导入/导出的函数等</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">API</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">含义</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Module.load()&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">加载指定so文件，返回一个Module对象</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;enumerateImports()&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">枚举所有Import库函数，返回Module数组对象</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;enumerateExports()&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">枚举所有Export库函数，返回Module数组对象</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;enumerateSymbols()&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">枚举所有Symbol库函数，返回Module数组对象</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Module.findExportByName(exportName)、Module.getExportByName(exportName)&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">寻找指定so中export库中的函数地址</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Module.findBaseAddress(name)、Module.getBaseAddress(name)&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">返回so的基地址</font></td>
    </tr>
  </tbody>
</table></div>

<h3 id="3memory"><span class="me-2"><font style="color:rgb(68, 68, 68);">3.Memory</font></span><a href="#3memory" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">是一个工具对象，提供直接读取和修改进程内存的功能，能够读取特定地址的值、写入数据、分配内存等</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th>### <strong><font style="color:rgb(68, 68, 68);">方法</font></strong></th>
      <th>### <strong><font style="color:rgb(68, 68, 68);">功能</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.copy()&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">复制内存</font></td>
    </tr>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.scan()&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">搜索内存中特定模式的数据</font></td>
    </tr>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.scanSync()&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">同上，但返回多个匹配的数据</font></td>
    </tr>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.alloc()&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">在目标进程的堆上申请指定大小的内存，返回一个</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;NativePointer&lt;/font&gt;</code></td>
    </tr>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.writeByteArray()&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">将字节数组写入一个指定内存</font></td>
    </tr>
    <tr>
      <td>### <code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Memory.readByteArray&lt;/font&gt;</code></td>
      <td>### <font style="color:rgb(68, 68, 68);">读取内存</font></td>
    </tr>
  </tbody>
</table></div>

<h2 id="2枚举导入导出表"><span class="me-2"><font style="color:rgb(68, 68, 68);">2.枚举导入导出表</font></span><a href="#2枚举导入导出表" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<ol>
  <li><strong><font style="color:rgb(68, 68, 68);">导出表（Export Table）</font></strong><font style="color:rgb(68, 68, 68);">：列出了库中可以被其他程序或库访问的所有公开函数和符号的名称。</font></li>
  <li><strong><font style="color:rgb(68, 68, 68);">导入表（Import Table）</font></strong><font style="color:rgb(68, 68, 68);">：列出了库需要从其他库中调用的函数和符号的名称。</font></li>
</ol>

<font style="color:rgb(68, 68, 68);">简而言之，导出表告诉其他程序：“这些是我提供的功能。”，而导入表则表示：“这些是我需要的功能。”。</font>

<pre><code class="language-plain">复制代码 隐藏代码
function hookTest1(){
    Java.perform(function(){
        //打印导入表
        var imports = Module.enumerateImports("lib52pojie.so");
        for(var i =0; i &lt; imports.length;i++){
            if(imports[i].name == "vip"){
                console.log(JSON.stringify(imports[i])); //通过JSON.stringify打印object数据
                console.log(imports[i].address);
            }
        }
        //打印导出表
        var exports = Module.enumerateExports("lib52pojie.so");
        for(var i =0; i &lt; exports.length;i++){
            console.log(JSON.stringify(exports[i]));
        }

    })
}
</code></pre>

<h2 id="3native函数的基础hook打印"><span class="me-2"><font style="color:rgb(68, 68, 68);">3.Native函数的基础Hook打印</font></span><a href="#3native函数的基础hook打印" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">整数型、布尔值类型、char类型</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
function hookTest2(){
Java.perform(function(){
    //根据导出函数名打印地址
    var helloAddr = Module.findExportByName("lib52pojie.so","Java_com_zj_wuaipojie_util_SecurityUtil_checkVip");
    console.log(helloAddr); 
    if(helloAddr != null){
            //Interceptor.attach是Frida里的一个拦截器
        Interceptor.attach(helloAddr,{
                //onEnter里可以打印和修改参数
            onEnter: function(args){  //args传入参数
                console.log(args[0]);  //打印第一个参数的值
                console.log(this.context.x1);  // 打印寄存器内容
                console.log(args[1].toInt32()); //toInt32()转十进制
                                    console.log(args[2].readCString()); //读取字符串 char类型
                                    console.log(hexdump(args[2])); //内存dump

            },
            //onLeave里可以打印和修改返回值
            onLeave: function(retval){  //retval返回值
                console.log(retval);
                console.log("retval",retval.toInt32());
            }
        })
    }
})
}
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">字符串类型</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
function hookTest2(){
    Java.perform(function(){
        //根据导出函数名打印地址
        var helloAddr = Module.findExportByName("lib52pojie.so","Java_com_zj_wuaipojie_util_SecurityUtil_vipLevel");
        if(helloAddr != null){
            Interceptor.attach(helloAddr,{
                //onEnter里可以打印和修改参数
                onEnter: function(args){  //args传入参数
                    // 方法一
                    var jString = Java.cast(args[2], Java.use('java.lang.String'));
                    console.log("参数:", jString.toString());
                    // 方法二
                    var JNIEnv = Java.vm.getEnv();
                    var originalStrPtr = JNIEnv.getStringUtfChars(args[2], null).readCString();        
                    console.log("参数:", originalStrPtr);                                
                },
                //onLeave里可以打印和修改返回值
                onLeave: function(retval){  //retval返回值
                    var returnedJString = Java.cast(retval, Java.use('java.lang.String'));
                    console.log("返回值:", returnedJString.toString());
                }
            })
        }
    })
}
</code></pre>

<h2 id="4native函数的基础hook修改"><span class="me-2"><font style="color:rgb(68, 68, 68);">4.Native函数的基础Hook修改</font></span><a href="#4native函数的基础hook修改" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">整数型修改</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
function hookTest3(){
Java.perform(function(){
    //根据导出函数名打印地址
    var helloAddr = Module.findExportByName("lib52pojie.so","Java_com_zj_wuaipojie_util_SecurityUtil_checkVip");
    console.log(helloAddr);
    if(helloAddr != null){
        Interceptor.attach(helloAddr,{
            onEnter: function(args){  //args参数
                args[0] = ptr(1000); //第一个参数修改为整数 1000，先转为指针再赋值
                console.log(args[0]);

            },
            onLeave: function(retval){  //retval返回值
                retval.replace(20000);  //返回值修改
                console.log("retval",retval.toInt32());
            }
        })
    }
})
}
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">字符串类型修改</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
function hookTest2(){
Java.perform(function(){
    //根据导出函数名打印地址
    var helloAddr = Module.findExportByName("lib52pojie.so","Java_com_zj_wuaipojie_util_SecurityUtil_vipLevel");
    if(helloAddr != null){
        Interceptor.attach(helloAddr,{
            //onEnter里可以打印和修改参数
            onEnter: function(args){  //args传入参数
                var JNIEnv = Java.vm.getEnv();
                var originalStrPtr = JNIEnv.getStringUtfChars(args[2], null).readCString();        
                console.log("参数:", originalStrPtr);
                var modifiedContent = "至尊";
                var newJString = JNIEnv.newStringUtf(modifiedContent);
                args[2] = newJString;                                
            },
            //onLeave里可以打印和修改返回值
            onLeave: function(retval){  //retval返回值
                var returnedJString = Java.cast(retval, Java.use('java.lang.String'));
                console.log("返回值:", returnedJString.toString());
                var JNIEnv = Java.vm.getEnv();
                var modifiedContent = "无敌";
                var newJString = JNIEnv.newStringUtf(modifiedContent);
                retval.replace(newJString);
            }
        })
    }
})
}
</code></pre>

<h2 id="5so基址的获取方式"><span class="me-2"><font style="color:rgb(68, 68, 68);">5.SO基址的获取方式</font></span><a href="#5so基址的获取方式" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
var moduleAddr1 = Process.findModuleByName("lib52pojie.so").base;  
var moduleAddr2 = Process.getModuleByName("lib52pojie.so").base;  
var moduleAddr3 = Module.findBaseAddress("lib52pojie.so");
</code></pre>

<h2 id="6hook未导出函数与函数地址计算"><span class="me-2"><font style="color:rgb(68, 68, 68);">6.Hook未导出函数与函数地址计算</font></span><a href="#6hook未导出函数与函数地址计算" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<pre><code class="language-plain">复制代码 隐藏代码
function hookTest6(){
    Java.perform(function(){
        //根据导出函数名打印基址
        var soAddr = Module.findBaseAddress("lib52pojie.so");
        console.log(soAddr);
        var funcaddr = soAddr.add(0x1071C);  
        console.log(funcaddr);
        if(funcaddr != null){
            Interceptor.attach(funcaddr,{
                onEnter: function(args){  //args参数

                },
                onLeave: function(retval){  //retval返回值
                    console.log(retval.toInt32());
                }
            })
        }
    })
}
</code></pre>

<font style="color:rgb(68, 68, 68);">函数地址计算</font>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">安卓里一般32 位的 so 中都是</font>
    <p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;thumb&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">指令，64 位的 so 中都是</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;arm&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">指令</font></p>
  </li>
  <li>
    <font style="color:rgb(68, 68, 68);">通过IDA里的opcode bytes来判断，arm 指令为 4 个字节(options -&gt; general -&gt; Number of opcode bytes (non-graph)  输入4)</font>
  </li>
  <li>
    <font style="color:rgb(68, 68, 68);">thumb 指令，函数地址计算方式： so 基址 + 函数在 so 中的偏移 + 1  
</font>
  </li>
</ol>
<p>&lt;/font&gt;<font style="color:rgb(68, 68, 68);">arm 指令，函数地址计算方式： so 基址 + 函数在 so 中的偏移</font></p>

<h2 id="7hook_dlopen"><span class="me-2"><font style="color:rgb(68, 68, 68);">7.Hook_dlopen</font></span><a href="#7hook_dlopen" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><a href="http://aospxref.com/android-8.0.0_r36/xref/bionic/libdl/libdl.c?r=&amp;mo=4035&amp;fi=101#101"><font style="color:rgb(68, 68, 68);">dlopen源码</font></a><font style="color:rgb(68, 68, 68);">  
</font><a href="http://aospxref.com/android-8.0.0_r36/xref/bionic/libdl/libdl.c#146"><font style="color:rgb(68, 68, 68);">android_dlopen_ext源码</font></a></p>

<pre><code class="language-plain">复制代码 隐藏代码
function hook_dlopen() {
    var dlopen = Module.findExportByName(null, "dlopen");
    Interceptor.attach(dlopen, {
        onEnter: function (args) {
            var so_name = args[0].readCString();
            if (so_name.indexOf("lib52pojie.so") &gt;= 0) this.call_hook = true;
        }, onLeave: function (retval) {
            if (this.call_hook) hookTest2();
        }
    });
    // 高版本Android系统使用android_dlopen_ext
    var android_dlopen_ext = Module.findExportByName(null, "android_dlopen_ext");
    Interceptor.attach(android_dlopen_ext, {
        onEnter: function (args) {
            var so_name = args[0].readCString();
            if (so_name.indexOf("lib52pojie.so") &gt;= 0) this.call_hook = true;
        }, onLeave: function (retval) {
            if (this.call_hook) hookTest2();
        }
    });
}
</code></pre>

<h1 id="基于r0tace的分析">基于r0tace的分析</h1>
<p><a href="https://github.com/r0ysue/r0tracer">https://github.com/r0ysue/r0tracer</a></p>

<h1 id="frida-native-hook读写主动调用"><font style="color:rgb(68, 68, 68);">Frida-Native-Hook读写、主动调用</font></h1>
<h3 id="1frida写数据"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.Frida写数据</font></span><a href="#1frida写数据" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<pre><code class="language-plain">复制代码 隐藏代码
//一般写在app的私有目录里，不然会报错:failed to open file (Permission denied)(实际上就是权限不足)
var file_path = "/data/user/0/com.zj.wuaipojie/test.txt";
var file_handle = new File(file_path, "wb");
if (file_handle &amp;&amp; file_handle != null) {
        file_handle.write(data); //写入数据
        file_handle.flush(); //刷新
        file_handle.close(); //关闭
}
</code></pre>

<h3 id="2frida_inlinehook与读写汇编"><span class="me-2"><font style="color:rgb(68, 68, 68);">2.Frida_inlineHook与读写汇编</font></span><a href="#2frida_inlinehook与读写汇编" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<font style="color:rgb(68, 68, 68);">什么是inlinehook？  
</font>
<font style="color:rgb(68, 68, 68);">Inline hook（内联钩子）是一种在程序运行时修改函数执行流程的技术。</font>
<p><strong><font style="color:rgb(68, 68, 68);">它通过修改函数的原始代码，将目标函数的执行路径重定向到自定义的代码段，从而实现对目标函数的拦截和修改。</font></strong><font style="color:rgb(68, 68, 68);">  
</font><font style="color:rgb(68, 68, 68);">简单来说就是可以对任意地址的指令进行hook读写操作  
</font><font style="color:rgb(68, 68, 68);">常见inlinehook框架:  
</font><a href="https://github.com/ele7enxxh/Android-Inline-Hook"><font style="color:rgb(68, 68, 68);">Android-Inline-Hook</font></a><font style="color:rgb(68, 68, 68);">  
</font><a href="https://github.com/asLody/whale"><font style="color:rgb(68, 68, 68);">whale</font></a><font style="color:rgb(68, 68, 68);">  
</font><a href="https://github.com/jmpews/Dobby"><font style="color:rgb(68, 68, 68);">Dobby</font></a><font style="color:rgb(68, 68, 68);">  
</font><a href="http://www.cydiasubstrate.com/"><font style="color:rgb(68, 68, 68);">substrate</font></a></p>

<font style="color:rgb(68, 68, 68);">PS：Frida的inlinehook不是太稳定，崩溃是基操，另外新版的frida兼容性会比较好</font>

<pre><code class="language-plain">复制代码 隐藏代码
function inline_hook() {
    var soAddr = Module.findBaseAddress("lib52pojie.so");
    if (soAddr) {
        var func_addr = soAddr.add(0x10428);
        Java.perform(function () {
            Interceptor.attach(func_addr, {
                onEnter: function (args) {
                    console.log(this.context.x22); //注意此时就没有args概念了
                    this.context.x22 = ptr(1); //赋值方法参考上一节课
                },
                onLeave: function (retval) {
                }
            }
            )
        })
    }
}
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">将地址的指令解析成汇编</font>
  </li>
</ol>

<pre><code class="language-plain">复制代码 隐藏代码
var soAddr = Module.findBaseAddress("lib52pojie.so");
var codeAddr = Instruction.parse(soAddr.add(0x10428));
console.log(codeAddr.toString());
</code></pre>

<ol>
  <li>
    <font style="color:rgb(68, 68, 68);">Frida Api  
</font>
  </li>
</ol>
<p>&lt;/font&gt;<a href="https://armconverter.com/"><font style="color:rgb(68, 68, 68);">arm转hex</font></a></p>

<pre><code class="language-plain">复制代码 隐藏代码
var soAddr = Module.findBaseAddress("lib52pojie.so");
var codeAddr = soAddr.add(0x10428);
Memory.patchCode(codeAddr, 4, function(code) {
const writer = new Arm64Writer(code, { pc: codeAddr });
writer.putBytes(hexToBytes("20008052"));
writer.flush();
});
function hexToBytes(str) {
var pos = 0;
var len = str.length;
if (len % 2 != 0) {
    return null;
}
len /= 2;
var hexA = new Array();
for (var i = 0; i &lt; len; i++) {
    var s = str.substr(pos, 2);
    var v = parseInt(s, 16);
    hexA.push(v);
    pos += 2;
}
return hexA;
}
</code></pre>

<h3 id="3普通函数与jni函数的主动调用"><span class="me-2"><font style="color:rgb(68, 68, 68);">3.普通函数与jni函数的主动调用</font></span><a href="#3普通函数与jni函数的主动调用" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>
<p><a href="https://frida.re/docs/javascript-api/#nativefunction"><font style="color:rgb(68, 68, 68);">nativefunction</font></a></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">数据类型</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">描述</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">void</font></td>
      <td><font style="color:rgb(68, 68, 68);">无返回值</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">pointer</font></td>
      <td><font style="color:rgb(68, 68, 68);">指针</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">int</font></td>
      <td><font style="color:rgb(68, 68, 68);">整数</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">long</font></td>
      <td><font style="color:rgb(68, 68, 68);">长整数</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">char</font></td>
      <td><font style="color:rgb(68, 68, 68);">字符</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">float</font></td>
      <td><font style="color:rgb(68, 68, 68);">浮点数</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">double</font></td>
      <td><font style="color:rgb(68, 68, 68);">双精度浮点数</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">bool</font></td>
      <td><font style="color:rgb(68, 68, 68);">布尔值</font></td>
    </tr>
  </tbody>
</table></div>

<pre><code class="language-plain">复制代码 隐藏代码
var funcAddr = Module.findBaseAddress("lib52pojie.so").add(0x1054C);
//声明函数指针
//NativeFunction的第一个参数是地址，第二个参数是返回值类型，第三个[]里的是传入的参数类型(有几个就填几个)
var aesAddr = new NativeFunction(funcAddr , 'pointer', ['pointer', 'pointer']);
var encry_text = Memory.allocUtf8String("OOmGYpk6s0qPSXEPp4X31g==");    //开辟一个指针存放字符串       
var key = Memory.allocUtf8String('wuaipojie0123456'); 
console.log(aesAddr(encry_text ,key).readCString());
</code></pre>

<h1 id="frida-trace"><font style="color:rgb(68, 68, 68);">frida-trace</font></h1>
<font style="color:rgb(68, 68, 68);">一次性监控一堆函数地址。还能打印出比较漂亮的树状图，不仅可以显示调用流程，还能显示调用层次</font>

<font style="color:rgb(68, 68, 68);">frida-trace -U -F -I "lib52pojie.so" -i "Java_" </font>

<font style="color:rgb(68, 68, 68);">#附加当前进程并追踪lib52pojie.so里的所有Java_开头的jni导出函数</font>

<p><a href="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192252505-0eade7a1-5433-4eb9-961d-d1705fb921e1.png" class="popup img-link  shimmer"><img src="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192252505-0eade7a1-5433-4eb9-961d-d1705fb921e1.png" alt="" loading="lazy"></a></p>

<h1 id="jnitrace"><font style="color:rgb(68, 68, 68);">jnitrace</font></h1>
<pre><code class="language-plain">复制代码 隐藏代码
pip install jnitrace==3.3.0
</code></pre>

<font style="color:rgb(68, 68, 68);">使用方法</font>

<pre><code class="language-plain">复制代码 隐藏代码
jnitrace -m attach -l lib52pojie.so com.zj.wuaipojie -o trace.json //attach模式附加52pojie.so并输出日志
</code></pre>

<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-l libnative-lib.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定要跟踪的库  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-m &lt;spawn|attach&gt;&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定要使用的 Frida 附加机制  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-i &lt;regex&gt;&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定应跟踪的方法名称，例如，</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-i Get -i RegisterNatives&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">将仅包含名称中包含 Get 或 RegisterNatives 的 JNI 方法  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-e &lt;regex&gt;&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定跟踪中应忽略的方法名称，例如，</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-e ^Find -e GetEnv&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">将从结果中排除所有以 Find 开头或包含 GetEnv 的 JNI 方法名称  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-I &lt;string&gt;&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定应跟踪的库的导出  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-E &lt;string&gt;&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">用于指定不应跟踪的库的导出  
</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;-o path/output.json&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">- 用于指定</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;jnitrace&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">存储所有跟踪数据的输出路径</font></p>

<p><a href="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192267958-9947d2a0-576c-40b5-bc22-2f9d8360030a.png" class="popup img-link  shimmer"><img src="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192267958-9947d2a0-576c-40b5-bc22-2f9d8360030a.png" alt="" loading="lazy"></a></p>

<h1 id="sktrace"><font style="color:rgb(68, 68, 68);">sktrace</font></h1>
<pre><code class="language-plain">python sktrace.py -m attach -l lib52pojie.so -i 0x103B4 com.zj.wuaipojie
</code></pre>

<p><a href="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192339377-51a6bc8f-4248-49c7-9c01-57667bf827fa.png" class="popup img-link  shimmer"><img src="https://cdn.nlark.com/yuque/0/2024/png/38873034/1732192339377-51a6bc8f-4248-49c7-9c01-57667bf827fa.png" alt="" loading="lazy"></a></p>

<h1 id="系统库的hook"><font style="color:rgb(68, 68, 68);">系统库的hook</font></h1>
<p>yang神hook3件套</p>

<p><a href="https://github.com/lasting-yang/frida_hook_libart">GitHub - lasting-yang/frida_hook_libart: Frida hook some jni functions</a></p>

<h2 id="1hook_libart"><span class="me-2"><font style="color:rgb(68, 68, 68);">1.Hook_Libart</font></span><a href="#1hook_libart" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libart.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">: 在 Android 5.0（Lollipop）及更高版本中，</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libart.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);"> </font><font style="color:rgb(68, 68, 68);">是 Android 运行时（ART，Android Runtime）的核心组件，它取代了之前的 Dalvik 虚拟机。可以在</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libart.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);"> </font><font style="color:rgb(68, 68, 68);">里找到 JNI 相关的实现。  
</font><font style="color:rgb(68, 68, 68);">PS:在高于安卓10的系统里，so的路径是/apex/com.android.runtime/lib64/libart.so，低于10的则在system/lib64/libart.so</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">函数名称</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">参数</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">描述</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">返回值</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;RegisterNatives&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, jclass clazz, const JNINativeMethod *methods, jint nMethods&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">反注册类的本地方法。类将返回到链接或注册了本地方法函数前的状态。该函数不应在本地代码中使用。相反，它可以为某些程序提供一种重新加载和重新链接本地库的途径。</font></td>
      <td><font style="color:rgb(68, 68, 68);">成功时返回0；失败时返回负数</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;GetStringUTFChars&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv*env, jstring string, jboolean *isCopy&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">通过JNIEnv接口指针调用，它将一个代表着Java虚拟机中的字符串jstring引用，转换成为一个UTF-8形式的C字符串</font></td>
      <td><font style="color:rgb(68, 68, 68);">-</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;NewStringUTF&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, const char *bytes&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">以字节为单位返回字符串的 UTF-8 长度</font></td>
      <td><font style="color:rgb(68, 68, 68);">返回字符串的长度</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;FindClass&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, const char *name&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">通过对象获取这个类。该函数比较简单，唯一注意的是对象不能为NULL，否则获取的class肯定返回也为NULL。</font></td>
      <td><font style="color:rgb(68, 68, 68);">-</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;GetMethodID&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, jclass clazz, const char *name, const char *sig&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">返回类或接口实例（非静态）方法的方法 ID。方法可在某个 clazz 的超类中定义，也可从 clazz 继承。GetMethodID() 可使未初始化的类初始化。</font></td>
      <td><font style="color:rgb(68, 68, 68);">方法ID，如果找不到指定的方法，则为NULL</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;GetStaticMethodID&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, jclass clazz, const char *name, const char *sig&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">获取类对象的静态方法ID</font></td>
      <td><font style="color:rgb(68, 68, 68);">属性ID对象。如果操作失败，则返回NULL</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;GetFieldID&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, jclass clazz, const char *name, const char *sig&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">回Java类（非静态）域的属性ID。该域由其名称及签名指定。访问器函数的Get<type>Field 及 Set<type>Field系列使用域 ID 检索对象域。GetFieldID() 不能用于获取数组的长度域。应使用GetArrayLength()。&lt;/font&gt;</type></type></font></td>
      <td><font style="color:rgb(68, 68, 68);">-</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;GetStaticFieldID&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env,jclass clazz, const char *name, const char *sig&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">获取类的静态域ID方法</font></td>
      <td><font style="color:rgb(68, 68, 68);">-</font></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Call&lt;type&gt;Method&lt;/font&gt;</code><br /><font style="color:rgb(68, 68, 68);">,</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Call&lt;type&gt;MethodA&lt;/font&gt;</code><br /><font style="color:rgb(68, 68, 68);">,</font><font style="color:rgb(68, 68, 68);"> </font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;Call&lt;type&gt;MethodV&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;JNIEnv *env, jobject obj, jmethodID methodID, .../jvalue *args/va_list args&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">这三个操作的方法用于从本地方法调用Java 实例方法。它们的差别仅在于向其所调用的方法传递参数时所用的机制。</font></td>
      <td><font style="color:rgb(68, 68, 68);">NativeType，具体的返回值取决于调用的类型</font></td>
    </tr>
  </tbody>
</table></div>

<h2 id="2hook_libc"><span class="me-2"><font style="color:rgb(68, 68, 68);">2.Hook_Libc</font></span><a href="#2hook_libc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libc.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">: 这是一个标准的 C 语言库，用于提供基本的系统调用和功能，如文件操作、字符串处理、内存分配等。在Android系统中，</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libc&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);"> </font><font style="color:rgb(68, 68, 68);">是最基础的库之一。</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">类别</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">函数名称</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">参数</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">描述</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">字符串类操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">strcpy</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;char *dest, const char *src&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">将字符串 src 复制到 dest</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">strcat</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;char *dest, const char *src&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">将字符串 src 连接到 dest 的末尾</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">strlen</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const char *str&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">返回 str 的长度</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">strcmp</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const char *str1, const char *str2&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">比较两个字符串</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">文件类操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">fopen</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const char *filename, const char *mode&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">打开文件</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">fread</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;void *ptr, size_t size, size_t count, FILE *stream&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">从文件读取数据</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">fwrite</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const void *ptr, size_t size, size_t count, FILE *stream&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">写入数据到文件</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">fclose</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;FILE *stream&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">关闭文件</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">网络IO类操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">socket</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;int domain, int type, int protocol&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">创建网络套接字</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">connect</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;int sockfd, const struct sockaddr *addr, socklen_t addrlen&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">连接套接字</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">recv</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;int sockfd, void *buf, size_t len, int flags&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">从套接字接收数据</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">send</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;int sockfd, const void *buf, size_t len, int flags&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">通过套接字发送数据</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">线程类操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">pthread_create</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;pthread_t *thread, const pthread_attr_t *attr, void *(*start_routine)(void *), void *arg&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">创建线程</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">进程控制操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">kill</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;pid_t pid, int sig&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">向指定进程发送信号</font></td>
    </tr>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">系统属性查询操作</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;__system_property_get&lt;/font&gt;</code></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const char *name, char *value&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">从Android系统属性服务中读取指定属性的值</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">uname</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;struct utsname *buf&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">获取当前系统的名称、版本和其他相关信息</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">sysconf</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;int name&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">获取运行时系统的配置信息，如CPU数量、页大小</font></td>
    </tr>
  </tbody>
</table></div>

<h2 id="3hook_libdl"><span class="me-2"><font style="color:rgb(68, 68, 68);">3.Hook_Libdl</font></span><a href="#3hook_libdl" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>
<p><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;libdl.so&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">是一个处理动态链接和加载的标准库，它提供了</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;dlopen&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">、</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;dlclose&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">、</font><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;dlsym&lt;/font&gt;</code><font style="color:rgb(68, 68, 68);">等函数，用于在运行时动态地加载和使用共享库</font></p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th><strong><font style="color:rgb(68, 68, 68);">类别</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">函数名称</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">参数</font></strong></th>
      <th><strong><font style="color:rgb(68, 68, 68);">描述</font></strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><font style="color:rgb(68, 68, 68);">动态链接库操作</font></td>
      <td><font style="color:rgb(68, 68, 68);">dlopen</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;const char *filename, int flag&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">打开动态链接库文件</font></td>
    </tr>
    <tr>
      <td> </td>
      <td><font style="color:rgb(68, 68, 68);">dlsym</font></td>
      <td><code class="language-plaintext highlighter-rouge">&lt;font style="color:rgb(68, 68, 68);"&gt;void *handle, const char *symbol&lt;/font&gt;</code></td>
      <td><font style="color:rgb(68, 68, 68);">从动态链接库中获取符号地址</font></td>
    </tr>
  </tbody>
</table></div>

<p>#</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/%E9%80%86%E5%90%91/">逆向</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/frida/"
            class="post-tag no-text-decoration"
          >frida</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          本文由作者按照 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         进行授权
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">分享</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%E9%80%86%E5%90%91%20Frida%20everything%20-%20XiangZheng&url=https%3A%2F%2Fxiangzheng666.github.io%2Fposts%2F%25E9%2580%2586%25E5%2590%2591-frida-everything%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%E9%80%86%E5%90%91%20Frida%20everything%20-%20XiangZheng&u=https%3A%2F%2Fxiangzheng666.github.io%2Fposts%2F%25E9%2580%2586%25E5%2590%2591-frida-everything%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=https%3A%2F%2Fxiangzheng666.github.io%2Fposts%2F%25E9%2580%2586%25E5%2590%2591-frida-everything%2F&text=%E9%80%86%E5%90%91%20Frida%20everything%20-%20XiangZheng" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="分享链接"
      data-title-succeed="链接已复制！"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">最近更新</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E7%88%AC%E8%99%AB-%E6%B5%8F%E8%A7%88%E5%99%A8/">爬虫 浏览器</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E7%88%AC%E8%99%AB-m3u8/">爬虫 M3u8</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E9%80%86%E5%90%91-%E6%8A%93%E5%8C%85/">逆向 抓包</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E9%80%86%E5%90%91-%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C/">逆向 签名校验</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/%E9%80%86%E5%90%91-frida%E6%8C%81%E4%B9%85%E5%8C%96/">逆向 Frida持久化</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">热门标签</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hadoop/">hadoop</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/frida/">frida</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hive/">Hive</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mq/">MQ</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pulsar/">Pulsar</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rospy/">rospy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/xposed/">Xposed</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">数据处理</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%A8%A1%E5%9E%8B%E6%93%8D%E4%BD%9C/">模型操作</a>
      
    </div>
  </section>


            </div>

            
              
              






  <div class="toc-border-cover z-3"></div>
  <section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4">
    <h2 class="panel-heading ps-3 pb-2 mb-0">文章内容</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">相关文章</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/%E9%80%86%E5%90%91-frida%E6%8C%81%E4%B9%85%E5%8C%96/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713715200"
  data-df="YYYY/MM/DD"
  
>
  2024/04/22
</time>

              <h4 class="pt-0 my-2">逆向 Frida持久化</h4>
              <div class="text-muted">
                <p>1.免root方案 Frida的Gadget是一个共享库，用于免root注入hook脚本。    官方文档   思路:将APK解包后，通过修改smali代码或patch so文件的方式植入frida-gadget，然后重新打包安装。   优点:免ROOT、能过掉一部分检测机制   缺点:重打包可能会遇到解决不了的签名校验、hook时机需要把握          基于obejction的pat...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%E9%80%86%E5%90%91-frida%E6%A3%80%E6%B5%8B/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1713456000"
  data-df="YYYY/MM/DD"
  
>
  2024/04/19
</time>

              <h4 class="pt-0 my-2">逆向 Frida检测</h4>
              <div class="text-muted">
                <p>1.检测文件名、端口名、双进程保护、失效的检测点 1.检测/data/local/tmp路径下的是否有frida特征文件，server端改名，例如:fr    2.指定端口转发  复制代码 隐藏代码 ./fs1 -l 0.0.0.0:6666 adb forward tcp:6666 tcp:6666 frida -H 127.0.0.1:6666 wuaipojie -l hook.js ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/%E9%80%86%E5%90%91-%E7%AD%BE%E5%90%8D%E6%A0%A1%E9%AA%8C/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1714233600"
  data-df="YYYY/MM/DD"
  
>
  2024/04/28
</time>

              <h4 class="pt-0 my-2">逆向 签名校验</h4>
              <div class="text-muted">
                <p>签名 没有被签名的 Apk，则会被拒绝安装  Android 目前支持以下四种应用签名方案：    v1 方案：基于 JAR 签名。    v2 方案：APK 签名方案 v2（在 Android 7.0 中引入）    v3 方案：APK 签名方案 v3（在 Android 9 中引入）    v4 方案：APK 签名方案 v4（在 Android 11 中引入）  V1 签名的机制三个文件...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/%E9%80%86%E5%90%91-Xposed/"
      class="btn btn-outline-primary"
      aria-label="上一篇"
    >
      <p>逆向 Xposed</p>
    </a>
  

  
    <a
      href="/posts/%E9%80%86%E5%90%91-root,xposed%E6%A3%80%E6%B5%8B/"
      class="btn btn-outline-primary"
      aria-label="下一篇"
    >
      <p>逆向 Root,xposed检测</p>
    </a>
  
</nav>

            

            <!-- The Footer -->

<footer
  aria-label="Site Info"
  class="
    d-flex flex-column justify-content-center text-muted
    flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3
  "
>
  <p>©
    <time>2025</time>

    
      <a href="https://twitter.com/xiangzheng666">xiangzheng666</a>.
    

    
      <span
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。"
      >保留部分权利。</span>
    
  </p>

  <p>本站采用 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 主题 <a
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="v7.2.4"
        href="https://github.com/cotes2020/jekyll-theme-chirpy"
        target="_blank"
        rel="noopener"
      >Chirpy</a>
  </p>
</footer>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">热门标签</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hadoop/">hadoop</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/frida/">frida</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/hive/">Hive</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mq/">MQ</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/pulsar/">Pulsar</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/rospy/">rospy</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/xposed/">Xposed</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/">基础知识</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">数据处理</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/%E6%A8%A1%E5%9E%8B%E6%93%8D%E4%BD%9C/">模型操作</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">发现新版本的内容。</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      更新
    </button>
  </div>
</aside>

    

    <!-- Embedded scripts -->

    
      
      <!-- The comments switcher -->

  
  <!-- https://utteranc.es/ -->
<script>
  (function () {
    const origin = 'https://utteranc.es';
    const themeMapper = Theme.getThemeMapper('github-light', 'github-dark');
    const initTheme = themeMapper[Theme.visualState];

    let script = document.createElement('script');
    script.src = 'https://utteranc.es/client.js';
    script.setAttribute('repo', 'xiangzheng666/xiangzheng666.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', initTheme);
    script.crossOrigin = 'anonymous';
    script.async = true;

    const $footer = document.querySelector('footer');
    $footer.insertAdjacentElement('beforebegin', script);

    addEventListener('message', (event) => {
      let newTheme;if (event.source === window && event.data && event.data.id === Theme.ID) {
        newTheme = themeMapper[Theme.visualState];

        const message = {
          type: 'set-theme',
          theme: newTheme
        };

        const utterances = document.querySelector('.utterances-frame').contentWindow;
        utterances.postMessage(message, origin);
      }
    });
  })();
</script>



    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  
  document.addEventListener('DOMContentLoaded', () => {
    SimpleJekyllSearch({
      searchInput: document.getElementById('search-input'),
      resultsContainer: document.getElementById('search-results'),
      json: '/assets/js/data/search.json',
      searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{content}</p>  </article>',
      noResultsText: '<p class="mt-5">搜索结果为空</p>',
      templateMiddleware: function(prop, value, template) {
        if (prop === 'categories') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
          }
        }

        if (prop === 'tags') {
          if (value === '') {
            return `${value}`;
          } else {
            return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
          }
        }
      }
    });
  });
</script>

  </body>
</html>

