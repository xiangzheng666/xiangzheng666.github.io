---
categories: [BigData]
tags: [数仓]
---
# 数仓


+  数仓分层 
    - ODS层：原始数据层，存放原始数据，直接加载原始日志、数据，数据保持原貌不做处理。  
化、脱敏等
    - DWD层：对ODS层数据进行清洗（去除空值；脏数据；超过极限范围的数据）·维度退
    - DWS层：以DWD为基础，按天进行轻度汇总。
    - DWT：以DWS为基础，按主题进行汇总。
    - ADS层：为各种统计报表提供数据
+  关系建模与维度建模 
    -  数据处理大致可以分成两大类：联机事务处理OLTP（on-line transaction processing）、联机分析处理OLAP（On-Line Analytical Processing）。OLTP是传统的关系型数据库的主要应用，主要是基本的、日常的事务处理，例如银行交易。OLAP是数据仓库系统的主要应用，支持复杂的分析操作，侧重决策支持，并且提供直观易懂的查询结果。 
    -  

| _**对比属性**_ | _**OLTP**_ | _**OLAP**_ |
| --- | --- | --- |
| _**读特性**_ | 每次查询只返回少量记录 | 对大量记录进行汇总 |
| _**写特性**_ | 随机、低延时写入用户的输入 | 批量导入 |
| _**使用场景**_ | 用户，Java EE项目 | 内部分析师，为决策提供支持 |
| _**数据表征**_ | 最新数据状态 | 随时间变化的历史状态 |
| _**数据规模**_ | GB | TB到PB |


    -  
    -  关系建模 
        * 数据库三范式理论
        * 
    -  维度模型 
        * 事实表，维度表
        * 
        * 三种模型： 
            + 星型模型、雪花模型、星座模型。
        * 维度表和事实表 
            + **事实表中的**每行数据代表一个业务事件（下单、支付、退款、评价等）。“事实”这个术语表示的是业务事件的**度量值（可统计次数、个数、金额等）**，例如，订单事件中的下单金额。 
                - **事务型事实表**
                - _**周期型快照事实表**_
                - _**周期型快照事实表**_
            + **维度表**：一般是对事实的**描述信息**。每一张维表对应现实世界中的一个对象或者概念。   例如：用户、商品、日期、地区等。
    -  数仓建模 
        * ODS层
        * DWD层 
            + 选择业务过程→声明粒度→确认维度→确认事实
        * DWS层 
            + 按照天统计，增加查询速度，
        * DWT层 
            + 增量统计，增加查询速度，
        * ADS层
    - 

